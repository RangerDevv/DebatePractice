---
import Edit from "../../components/svelte/edit.svelte";
import Layout from "../../layouts/Layout.astro";
import { supabase } from "../../lib/backend";

let pid = parseInt(Astro.params.id!)

const currentUser = (await supabase.auth.getUser(Astro.cookies.get("my-access-token").value)).data.user
---

<Layout title="Edit">
    <Edit client:only="svelte" pid={pid} user={currentUser} />
</Layout>
---
import Layout from "../layouts/Layout.astro";
import { supabase } from "../lib/backend";
import type { Documentation,Language,Contents } from "../lib/db";
import Newassignment from "../components/svelte/newassignment.svelte";

  const { data: { user } } = await supabase.auth.getUser()
  let userisloggedin = false;

  if (!user) {
    userisloggedin = false;
  } else {
    userisloggedin = true;
  }

const { data: docs, error } = await supabase
  .from("Documentation")
  .select("*")
  .eq("id", 1);
---

<script>
import {supabase} from "../lib/backend";
const { data: { user } } = await supabase.auth.getUser()
// if (!user) {
//   window.location.href = "/login";
// } 

</script>

<Layout title="New Docs" loggedIn={userisloggedin}>
    <Newassignment client:only="svelte" />
</Layout>